<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <div id="app"></div>
    <script type="module">
        // import { onBeforeUpdate, onUpdated, onBeforeUnmount, onUnmounted, onBeforeMount, getCurrentInstance , onMounted  , ref, Fragment, Text, h, render, reactive, toRefs } from "../../../../node_modules/vue/dist/vue.esm-browser.js"
        // import { } from "../../reactivity/dist/reactivity.js"
        import {  ref, h,render, Fragment, Text,toRefs, reactive  } from "./runtime-dom.js"
        const VueComponent = {
            // 组件的生命周期
            // 生命周期：用户注册的一些钩子方法，当组件在创建销毁更新的时候会调用这些方法
            // onMounted
            //
            setup(props) {
                const text = ref('hello')
                // const instance = getCurrentInstance()
                // onBeforeMount(() => {
                //     console.log("onBeforeMount")
                // })
                // onMounted(() => {
                //     console.log('onMounted')
                // })
                //
                // onBeforeUpdate(() => {
                //     console.log('onBeforeUpdate')
                // })
                //
                // onUpdated(() => {
                //     console.log('onUpdated')
                // })
                //
                // onBeforeUnmount(() => {
                //     console.log('onBeforeUnmount')
                // })
                //
                // onUnmounted(() => {
                //     console.log('onUnmounted')
                // })


                return {
                    text
                }
            },
            render (proxy) {
                console.log("render")
                return h(Fragment, [
                    proxy.$slots.header(),
                    proxy.$slots.default(proxy.text),
                    proxy.$slots.footer()
                ])
            }
        }


        setTimeout(() => {
            // 挂载
            render(h(VueComponent, {}, {
                default: (text) => h(Text, 'default' + text),
                header: () => h(Text, 'header1'),
                footer: () => h(Text, 'footer1')
            }), app)
        }, 1000)

        setTimeout(() => {
            // 更新
            render(h(VueComponent, {}, {
                default: (text) => h(Text, 'default' + text),
                header: () => h(Text, 'header2'),
                footer: () => h(Text, 'footer2')
            }), app)
        }, 2000)


        setTimeout(() => {
            // 卸载
            render(null, app)
        }, 3000)

    </script>
</body>
</html>














